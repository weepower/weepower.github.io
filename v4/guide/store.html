<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Store | Wee</title>
    <meta name="description" content="Blueprint for modern web development">
    
    
    <link rel="preload" href="/assets/css/0.styles.a0e9688a.css" as="style"><link rel="preload" href="/assets/js/app.47ec8783.js" as="script"><link rel="preload" href="/assets/js/43.cae8f002.js" as="script"><link rel="prefetch" href="/assets/js/10.68538d1e.js"><link rel="prefetch" href="/assets/js/11.de97b93b.js"><link rel="prefetch" href="/assets/js/12.4ab09f98.js"><link rel="prefetch" href="/assets/js/13.d325b3df.js"><link rel="prefetch" href="/assets/js/14.0295d007.js"><link rel="prefetch" href="/assets/js/15.a87ff052.js"><link rel="prefetch" href="/assets/js/16.994a0851.js"><link rel="prefetch" href="/assets/js/17.7e86fbc6.js"><link rel="prefetch" href="/assets/js/18.72a5c445.js"><link rel="prefetch" href="/assets/js/19.20ae5ac9.js"><link rel="prefetch" href="/assets/js/20.dc34e009.js"><link rel="prefetch" href="/assets/js/21.bb8700ad.js"><link rel="prefetch" href="/assets/js/22.bb416506.js"><link rel="prefetch" href="/assets/js/23.2321e5b0.js"><link rel="prefetch" href="/assets/js/24.b6f0b51a.js"><link rel="prefetch" href="/assets/js/25.bfd278b9.js"><link rel="prefetch" href="/assets/js/26.99227192.js"><link rel="prefetch" href="/assets/js/27.c1d3ee44.js"><link rel="prefetch" href="/assets/js/28.732383d3.js"><link rel="prefetch" href="/assets/js/29.15c8abea.js"><link rel="prefetch" href="/assets/js/3.561367c0.js"><link rel="prefetch" href="/assets/js/30.577bbe6a.js"><link rel="prefetch" href="/assets/js/31.afe20104.js"><link rel="prefetch" href="/assets/js/32.06639946.js"><link rel="prefetch" href="/assets/js/33.f8f0c301.js"><link rel="prefetch" href="/assets/js/34.3dd5a283.js"><link rel="prefetch" href="/assets/js/35.fd73797e.js"><link rel="prefetch" href="/assets/js/36.c253724f.js"><link rel="prefetch" href="/assets/js/37.ccd77203.js"><link rel="prefetch" href="/assets/js/38.2d5e0a42.js"><link rel="prefetch" href="/assets/js/39.746b4fb3.js"><link rel="prefetch" href="/assets/js/4.00040a07.js"><link rel="prefetch" href="/assets/js/40.89036499.js"><link rel="prefetch" href="/assets/js/41.fa6d72fd.js"><link rel="prefetch" href="/assets/js/42.af0977da.js"><link rel="prefetch" href="/assets/js/44.c0f9b0c1.js"><link rel="prefetch" href="/assets/js/45.283456dd.js"><link rel="prefetch" href="/assets/js/46.be77c53a.js"><link rel="prefetch" href="/assets/js/47.60898e5d.js"><link rel="prefetch" href="/assets/js/48.18c1ab53.js"><link rel="prefetch" href="/assets/js/49.6921b3da.js"><link rel="prefetch" href="/assets/js/5.f66a3a50.js"><link rel="prefetch" href="/assets/js/50.f191ed64.js"><link rel="prefetch" href="/assets/js/51.40825d28.js"><link rel="prefetch" href="/assets/js/52.ea5839b3.js"><link rel="prefetch" href="/assets/js/53.6a529757.js"><link rel="prefetch" href="/assets/js/54.49d4eea6.js"><link rel="prefetch" href="/assets/js/55.66648c00.js"><link rel="prefetch" href="/assets/js/56.6b09d08f.js"><link rel="prefetch" href="/assets/js/57.a5a062f0.js"><link rel="prefetch" href="/assets/js/58.36739884.js"><link rel="prefetch" href="/assets/js/59.ffaf1a40.js"><link rel="prefetch" href="/assets/js/6.78abfdf0.js"><link rel="prefetch" href="/assets/js/60.3f7577d3.js"><link rel="prefetch" href="/assets/js/61.54b42ef3.js"><link rel="prefetch" href="/assets/js/7.4505bfef.js"><link rel="prefetch" href="/assets/js/8.e3562a43.js"><link rel="prefetch" href="/assets/js/9.e1b8a979.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.6bab8de6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a0e9688a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Wee</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v4/" class="nav-link router-link-active">v4</a></div><div class="nav-item"><a href="/v3/" class="nav-link">v3</a></div><div class="nav-item"><a href="https://github.com/weepower/wee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/weepower/wee/archive/master.zip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v4/" class="nav-link router-link-active">v4</a></div><div class="nav-item"><a href="/v3/" class="nav-link">v3</a></div><div class="nav-item"><a href="https://github.com/weepower/wee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/weepower/wee/archive/master.zip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/v4/" class="sidebar-link">Introduction</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Start</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/v4/guide/store.html" class="active sidebar-link">Store</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v4/guide/store.html#using-markup-to-set-variables" class="sidebar-link">Using markup to set variables</a></li><li class="sidebar-sub-header"><a href="/v4/guide/store.html#store-scope" class="sidebar-link">Store scope</a></li><li class="sidebar-sub-header"><a href="/v4/guide/store.html#local-and-session-storage" class="sidebar-link">Local and Session Storage</a></li></ul></li><li><a href="/v4/guide/mediator.html" class="sidebar-link">Mediator</a></li><li><a href="/v4/guide/routes.html" class="sidebar-link">Router</a></li><li><a href="/v4/guide/postcss.html" class="sidebar-link">PostCSS</a></li><li><a href="/v4/guide/esmodules.html" class="sidebar-link">ES Modules</a></li><li><a href="/v4/guide/cli.html" class="sidebar-link">CLI</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CLI</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Build</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Style</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Script</span> <span class="arrow right"></span></p> <!----></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="store"><a href="#store" aria-hidden="true" class="header-anchor">#</a> Store</h1> <hr> <p>The store module is for managing data in an application. It is not intended to drive an entire single page application. Instead, it is meant to organize and improve a standard website by making common data shareable across a codebase without contaminating the global namespace. It also allows for easy integration with <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank" rel="noopener noreferrer">LocalStorage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" target="_blank" rel="noopener noreferrer">SessionStorage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> $store <span class="token keyword">from</span> <span class="token string">'wee-store'</span><span class="token punctuation">;</span>

$store<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'globalProp'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$store<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'globalProp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre></div><h2 id="using-markup-to-set-variables"><a href="#using-markup-to-set-variables" aria-hidden="true" class="header-anchor">#</a> Using markup to set variables</h2> <p>With any website that is serving only static HTML files, it is a common need to provide data to our JavaScript directly from our markup. Wee has a specific convention for this use-case:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
	  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">data-set</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>prop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Any element on the DOM may be given a <code>data-set</code> and <code>data-value</code> attribute. This will set a property in the store module called <code>prop</code> with the value of <code>test</code>. You could then access that property like this:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> $store <span class="token keyword">from</span> <span class="token string">'wee-store'</span><span class="token punctuation">;</span>

$store<span class="token punctuation">.</span><span class="token function">setVar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> prop <span class="token operator">=</span> $store<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'prop'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'test'</span>
</code></pre></div><p>You'll notice how we executed <code>setVar</code> in the example above. That is how our JavaScript knows to look through the DOM and find these <code>data-set</code> and <code>data-value</code> pairs, converting those to variables in our <code>store</code> module. <code>setVar</code> is executed by default in our <code>bootstrap</code> module that is imported in Wee's default entry point <code>app.js</code>. If you have a custom entry point for your application, make sure to import <code>bootstrap</code> or call <code>setVar</code> before trying to access those properties.</p> <h2 id="store-scope"><a href="#store-scope" aria-hidden="true" class="header-anchor">#</a> Store scope</h2> <p>The default import for the <code>store</code> module is an instance of the <code>Store</code> class. This means that we can create any number of new <code>store</code> instances that can be used however you desire.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> $store <span class="token keyword">from</span> <span class="token string">'wee-store'</span><span class="token punctuation">;</span>

$store<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'globalProp'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$store<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'globalProp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

<span class="token keyword">const</span> $local <span class="token operator">=</span> $store<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">'local'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns instance of Store</span>

$local<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'localProp'</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
$local<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'localProp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
$local<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'globalProp'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p>It is important to note that <code>setVar</code> will set properties on the main <code>store</code> module by default. In order to store properties on a custom <code>store</code> instance, you need to add another attribute to your markup:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">data-store</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>local<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-set</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>prop<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Adding the <code>data-store</code> attribute to the example will reserve that property for when <code>setVar</code> is called on the <code>store</code> instance with the name of <code>local</code>.</p> <h2 id="local-and-session-storage"><a href="#local-and-session-storage" aria-hidden="true" class="header-anchor">#</a> Local and Session Storage</h2> <p>The store module can utilize either <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank" rel="noopener noreferrer">LocalStorage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/sessionStorage" target="_blank" rel="noopener noreferrer">SessionStorage<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to persist data. When using this feature, there are a few things to keep in mind.</p> <p>By default, all data added to a <code>store</code> instance will be saved in JavaScript, regardless of whether local or session storage is activated on that instance. This is to keep everything functioning as fast as possible. If it is not desirable to house all data in JavaScript, setting <code>keepInMemory</code> to <code>false</code> will cause the <code>store</code> instance to retrieve data directly from local/session storage anytime <code>$store.get</code> is called which will be less performant. This may be a preferable option if there is a large-ish (local and session storage limits can be as low as 2mb on certain mobile devices) amount of data in a <code>store</code> instance that will be retrieved infrequently. Otherwise, it is best to leave the default settings alone.</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/v4/start/linting.html" class="prev">
          Linting
        </a></span> <span class="next"><a href="/v4/guide/mediator.html">
          Mediator
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.47ec8783.js" defer></script><script src="/assets/js/43.cae8f002.js" defer></script>
  </body>
</html>
