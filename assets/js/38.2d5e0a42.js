(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{214:function(t,e,s){"use strict";s.r(e);var n=s(0),a=Object(n.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("Wee includes an extensible CLI with useful default "),s("a",{attrs:{href:"/cli/commands"}},[t._v("commands")]),t._v(". Wee 4 makes starting a new project easy by adding the "),s("a",{attrs:{href:"/cli/commands/init"}},[t._v("init")]),t._v(" command, and the CLI was remade on top of "),s("a",{attrs:{href:"https://www.npmjs.com/package/commander",target:"_blank",rel:"noopener noreferrer"}},[t._v("Commander"),s("OutboundLink")],1),t._v(" to make a more consistent and robust CLI experience. This guide is going to explain how to register custom commands for your project as well as how best to utilize the CLI's built in functionality.")]),t._v(" "),t._m(1),t._v(" "),s("p",[t._v("The majority of Wee's commands are registered within "),s("a",{attrs:{href:"https://github.com/weepower/wee-core",target:"_blank",rel:"noopener noreferrer"}},[t._v("Wee Core"),s("OutboundLink")],1),t._v(". As a result, the help menu "),s("code",[t._v("wee --help")]),t._v(" seen before creating your first project will not contain most commands listed in the documentation. When "),s("code",[t._v("wee --help")]),t._v(" is executed inside of a project, the full menu of commands will be available.")]),t._v(" "),t._m(2),t._v(" "),s("p",[t._v("Wee CLI makes it possible to generate and register your own commands. Inside of a current wee project, do the following:")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),s("p",[t._v("If you have projects that are using Wee 3, you will notice that the v2 of Wee CLI is not compatible. This could make it difficult since Wee CLI is most likely globally installed on your machine. A workaround for this is to install "),s("a",{attrs:{href:"https://www.npmjs.com/package/wee3-cli",target:"_blank",rel:"noopener noreferrer"}},[t._v("wee3-cli"),s("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(11),t._m(12),t._v(" "),t._m(13),s("p",[t._v("You can also install a Wee 3 compatible version locally per project if you would rather.")]),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"cli"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cli","aria-hidden":"true"}},[this._v("#")]),this._v(" CLI")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"in-and-out-of-a-project"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#in-and-out-of-a-project","aria-hidden":"true"}},[this._v("#")]),this._v(" In and Out of a Project")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"custom-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#custom-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Custom Commands")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Generate a new command with the CLI - "),e("code",[this._v("wee command -n new-command")])]),this._v(" "),e("li",[this._v("Configure the newly generated command. It will be located in "),e("code",[this._v("source/commands/new-command.js")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The "),e("code",[this._v("new-command.js")]),this._v(" file will look something like this:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" logError"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" logSuccess "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../../node_modules/wee-core/utils'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newCommand'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tdescription"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newCommand description here'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tusage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'- wee newCommand [options]'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\toptions"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-t, --test <name>'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'option with a value'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-t2, --test2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'option without a value'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Require test option be provided")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// if (typeof options.test !== 'string') {")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// \tlogError('--test is required');")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// \tprocess.exit();")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n\t\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("logSuccess")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'newCommand command successful'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("The command can now be executed as "),e("code",[this._v("wee newCommand")]),this._v(". It will print "),e("code",[this._v("newCommand command successful")]),this._v(" to the terminal when called. Let's look at the properties of this command:")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("name")]),t._v(" - The name by which the command is registered.")]),t._v(" "),s("li",[s("code",[t._v("description")]),t._v(" - The description that will be printed out in the CLI help menu. Make sure to update this property.")]),t._v(" "),s("li",[s("code",[t._v("usage")]),t._v(" - The value will output to the help menu for the "),s("code",[t._v("newCommmand")]),t._v(".")]),t._v(" "),s("li",[s("code",[t._v("options")]),t._v(" - The set of possible flags that can be passed in with the command.")]),t._v(" "),s("li",[s("code",[t._v("action")]),t._v(" - The logic of the command.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("A couple helper functions are imported into the command: "),e("code",[this._v("logError")]),this._v(" and "),e("code",[this._v("logSuccess")]),this._v(". These can be used when needing to print feedback to the terminal in a formatted way.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("An important note is that "),e("a",{attrs:{href:"/guide/es-modules"}},[this._v("ES Modules")]),this._v(" are not used in commands. This is because we are using the module system used in Node.js (CommonJS), the platform that Wee CLI and the build process are built on. So if you need to import any dependencies into a command, use "),e("code",[this._v("require")]),this._v(" instead of "),e("code",[this._v("import")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"wee-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#wee-3","aria-hidden":"true"}},[this._v("#")]),this._v(" Wee 3")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" i -g wee3-cli\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Once installed, you can refer to the Wee 3 compatible CLI with "),e("code",[this._v("wee3")]),this._v(" as the command.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("wee3 run:local\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("cd")]),this._v(" /to/project/directory\n"),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" wee-cli@1.1.0\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Once installed locally , you can utilize npm to run your local version of the CLI by creating an npm script in your project's "),e("code",[this._v("package.json")]),this._v(". When calling a CLI command inside of an npm script, npm first looks for the executable inside of your local "),e("code",[this._v("node_modules")]),this._v(". So for example, we could add a script called "),e("code",[this._v("start")]),this._v(" that will call the CLI command.")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"start"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wee"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Now when you run "),s("code",[t._v("npm start")]),t._v(" in the console, you should notice that your "),s("code",[t._v("defaultCommand")]),t._v(" that is defined in your "),s("code",[t._v("wee.json")]),t._v(" is executed. If you need to add additional arguments, add "),s("code",[t._v("--")]),t._v(" in between the npm script and your arguments.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[this._v("npm")]),this._v(" start -- run:local\n")])])])}],!1,null,null,null);e.default=a.exports}}]);