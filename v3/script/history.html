<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>History | Wee</title>
    <meta name="description" content="Blueprint for modern web development">
    
    
    <link rel="preload" href="/assets/css/0.styles.a0e9688a.css" as="style"><link rel="preload" href="/assets/js/app.47ec8783.js" as="script"><link rel="preload" href="/assets/js/24.b6f0b51a.js" as="script"><link rel="prefetch" href="/assets/js/10.68538d1e.js"><link rel="prefetch" href="/assets/js/11.de97b93b.js"><link rel="prefetch" href="/assets/js/12.4ab09f98.js"><link rel="prefetch" href="/assets/js/13.d325b3df.js"><link rel="prefetch" href="/assets/js/14.0295d007.js"><link rel="prefetch" href="/assets/js/15.a87ff052.js"><link rel="prefetch" href="/assets/js/16.994a0851.js"><link rel="prefetch" href="/assets/js/17.7e86fbc6.js"><link rel="prefetch" href="/assets/js/18.72a5c445.js"><link rel="prefetch" href="/assets/js/19.20ae5ac9.js"><link rel="prefetch" href="/assets/js/20.dc34e009.js"><link rel="prefetch" href="/assets/js/21.bb8700ad.js"><link rel="prefetch" href="/assets/js/22.bb416506.js"><link rel="prefetch" href="/assets/js/23.2321e5b0.js"><link rel="prefetch" href="/assets/js/25.bfd278b9.js"><link rel="prefetch" href="/assets/js/26.99227192.js"><link rel="prefetch" href="/assets/js/27.c1d3ee44.js"><link rel="prefetch" href="/assets/js/28.732383d3.js"><link rel="prefetch" href="/assets/js/29.15c8abea.js"><link rel="prefetch" href="/assets/js/3.561367c0.js"><link rel="prefetch" href="/assets/js/30.577bbe6a.js"><link rel="prefetch" href="/assets/js/31.afe20104.js"><link rel="prefetch" href="/assets/js/32.06639946.js"><link rel="prefetch" href="/assets/js/33.f8f0c301.js"><link rel="prefetch" href="/assets/js/34.3dd5a283.js"><link rel="prefetch" href="/assets/js/35.fd73797e.js"><link rel="prefetch" href="/assets/js/36.c253724f.js"><link rel="prefetch" href="/assets/js/37.ccd77203.js"><link rel="prefetch" href="/assets/js/38.2d5e0a42.js"><link rel="prefetch" href="/assets/js/39.746b4fb3.js"><link rel="prefetch" href="/assets/js/4.00040a07.js"><link rel="prefetch" href="/assets/js/40.89036499.js"><link rel="prefetch" href="/assets/js/41.fa6d72fd.js"><link rel="prefetch" href="/assets/js/42.af0977da.js"><link rel="prefetch" href="/assets/js/43.cae8f002.js"><link rel="prefetch" href="/assets/js/44.c0f9b0c1.js"><link rel="prefetch" href="/assets/js/45.283456dd.js"><link rel="prefetch" href="/assets/js/46.be77c53a.js"><link rel="prefetch" href="/assets/js/47.60898e5d.js"><link rel="prefetch" href="/assets/js/48.18c1ab53.js"><link rel="prefetch" href="/assets/js/49.6921b3da.js"><link rel="prefetch" href="/assets/js/5.f66a3a50.js"><link rel="prefetch" href="/assets/js/50.f191ed64.js"><link rel="prefetch" href="/assets/js/51.40825d28.js"><link rel="prefetch" href="/assets/js/52.ea5839b3.js"><link rel="prefetch" href="/assets/js/53.6a529757.js"><link rel="prefetch" href="/assets/js/54.49d4eea6.js"><link rel="prefetch" href="/assets/js/55.66648c00.js"><link rel="prefetch" href="/assets/js/56.6b09d08f.js"><link rel="prefetch" href="/assets/js/57.a5a062f0.js"><link rel="prefetch" href="/assets/js/58.36739884.js"><link rel="prefetch" href="/assets/js/59.ffaf1a40.js"><link rel="prefetch" href="/assets/js/6.78abfdf0.js"><link rel="prefetch" href="/assets/js/60.3f7577d3.js"><link rel="prefetch" href="/assets/js/61.54b42ef3.js"><link rel="prefetch" href="/assets/js/7.4505bfef.js"><link rel="prefetch" href="/assets/js/8.e3562a43.js"><link rel="prefetch" href="/assets/js/9.e1b8a979.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.6bab8de6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a0e9688a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Wee</span></a> <div class="links" style="max-width:nullpx;"><form id="search-form" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/v4/" class="nav-link">v4</a></div><div class="nav-item"><a href="/v3/" class="nav-link router-link-active">v3</a></div><div class="nav-item"><a href="https://github.com/weepower/wee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/weepower/wee/archive/master.zip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/v4/" class="nav-link">v4</a></div><div class="nav-item"><a href="/v3/" class="nav-link router-link-active">v3</a></div><div class="nav-item"><a href="https://github.com/weepower/wee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/weepower/wee/archive/master.zip" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Download
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/v3/" class="sidebar-link">Get Started</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Start</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>CLI</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Build</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Generate</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>Styles</span> <span class="arrow right"></span></p> <!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>Script</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/v3/script/" class="sidebar-link">Script</a></li><li><a href="/v3/script/chain.html" class="sidebar-link">Chain</a></li><li><a href="/v3/script/core.html" class="sidebar-link">Core</a></li><li><a href="/v3/script/animate.html" class="sidebar-link">Animate</a></li><li><a href="/v3/script/assets.html" class="sidebar-link">Assets</a></li><li><a href="/v3/script/fetch.html" class="sidebar-link">Fetch</a></li><li><a href="/v3/script/dom.html" class="sidebar-link">DOM</a></li><li><a href="/v3/script/events.html" class="sidebar-link">Events</a></li><li><a href="/v3/script/history.html" class="active sidebar-link">History</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/v3/script/history.html#bind" class="sidebar-link">Bind</a></li><li class="sidebar-sub-header"><a href="/v3/script/history.html#go" class="sidebar-link">Go</a></li><li class="sidebar-sub-header"><a href="/v3/script/history.html#init" class="sidebar-link">Init</a></li><li class="sidebar-sub-header"><a href="/v3/script/history.html#lifecycle-2" class="sidebar-link">Lifecycle</a></li></ul></li><li><a href="/v3/script/routes.html" class="sidebar-link">Routes</a></li><li><a href="/v3/script/screen.html" class="sidebar-link">Screen</a></li><li><a href="/v3/script/view.html" class="sidebar-link">View</a></li><li><a href="/v3/script/polyfills.html" class="sidebar-link">Polyfills</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="history"><a href="#history" aria-hidden="true" class="header-anchor">#</a> History</h1> <p>HTML5 history and PJAX helper to create dynamic experiences</p> <p>Using the Wee History feature you can make partial DOM replacements while manipulating the URL to create smooth, efficient navigation.</p> <h2 id="bind"><a href="#bind" aria-hidden="true" class="header-anchor">#</a> Bind</h2> <p>Bind element events and form submit events to PJAX</p> <table><thead><tr><th>Variable</th> <th>Type</th> <th>Default</th> <th>Description</th> <th>Required</th></tr></thead> <tbody><tr><td>events</td> <td>object</td> <td>-</td> <td>{event: selector} object to bind</td> <td>✔</td></tr> <tr><td>a</td> <td>object,<a href="/v4/script/#selection">selection</a></td> <td>-</td> <td>Context or same options available to <a href="/v4/script/history#go">go method</a></td> <td>-</td></tr> <tr><td>context</td> <td><a href="/v4/script/#selection">selection</a></td> <td>document</td> <td>Context selection</td> <td>-</td></tr></tbody></table> <h3 id="basic"><a href="#basic" aria-hidden="true" class="header-anchor">#</a> Basic</h3> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span><span class="token function">history</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    click<span class="token punctuation">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
    submit<span class="token punctuation">:</span> <span class="token string">'.element'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="advanced"><a href="#advanced" aria-hidden="true" class="header-anchor">#</a> Advanced</h3> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span><span class="token function">history</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        click<span class="token punctuation">:</span> <span class="token string">'a:not([data-static])'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">'ref:element'</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span>
            <span class="token string">'html'</span><span class="token punctuation">,</span>
            <span class="token string">'php'</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        partials<span class="token punctuation">:</span> <span class="token string">'title, .js-sidebar, ref:inner'</span><span class="token punctuation">,</span>
        request<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            root<span class="token punctuation">:</span> <span class="token string">'/pjax'</span><span class="token punctuation">,</span>
            <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">ga</span><span class="token punctuation">(</span><span class="token string">'send'</span><span class="token punctuation">,</span> <span class="token string">'pageview'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="go"><a href="#go" aria-hidden="true" class="header-anchor">#</a> Go</h2> <p>Navigate to a new path or within the browser history</p> <table><thead><tr><th>Variable</th> <th>Type</th> <th>Default</th> <th>Description</th> <th>Required</th></tr></thead> <tbody><tr><td>options</td> <td>object</td> <td>-</td> <td>Object properties below</td> <td>✔</td></tr></tbody></table> <h3 id="options-object"><a href="#options-object" aria-hidden="true" class="header-anchor">#</a> Options Object</h3> <table><thead><tr><th>Variable</th> <th>Type</th> <th>Default</th> <th>Description</th> <th>Required</th></tr></thead> <tbody><tr><td>action</td> <td>string</td> <td>'replace'</td> <td>Either 'replace' or 'append' content</td> <td>-</td></tr> <tr><td>extensions</td> <td>array</td> <td>-</td> <td>Whitelist of path extensions to support</td> <td>-</td></tr> <tr><td>partials</td> <td><a href="/v4/script/#selection">selection</a></td> <td>'title, main'</td> <td>Elements to replace from response</td> <td>-</td></tr> <tr><td>path</td> <td>string</td> <td>-</td> <td>Path to local resource</td> <td>✔</td></tr> <tr><td>processErrors</td> <td>boolean</td> <td>false</td> <td>Process replacements on error responses</td> <td>-</td></tr> <tr><td>push</td> <td>boolean</td> <td>true</td> <td>Push the path to the browser URL</td> <td>-</td></tr> <tr><td>request</td> <td>object</td> <td>-</td> <td>Pass-through object to <a href="/v4/script/history#go">Wee.data</a></td> <td>-</td></tr> <tr><td>run</td> <td>boolean</td> <td>true</td> <td>Evaluate routing rules</td> <td>-</td></tr> <tr><td>scrollTop</td> <td>number, <a href="/v4/script/#selection">selection</a></td> <td>0</td> <td>Vertical offset to scroll</td> <td>-</td></tr> <tr><td>title</td> <td>string</td> <td>-</td> <td>Set or override the returned page title</td> <td>-</td></tr></tbody></table> <h3 id="basic-2"><a href="#basic-2" aria-hidden="true" class="header-anchor">#</a> Basic</h3> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/page/path'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="advanced-2"><a href="#advanced-2" aria-hidden="true" class="header-anchor">#</a> Advanced</h3> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/page/path'</span><span class="token punctuation">,</span>
    partials<span class="token punctuation">:</span> <span class="token string">'.element'</span><span class="token punctuation">,</span>
    request<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">complete</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Complete logic</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="init"><a href="#init" aria-hidden="true" class="header-anchor">#</a> Init</h2> <p>Set the initial state and popstate event, and bind global actions</p> <table><thead><tr><th>Variable</th> <th>Type</th> <th>Default</th> <th>Description</th> <th>Required</th></tr></thead> <tbody><tr><td>options</td> <td>object</td> <td>-</td> <td>Object properties below</td> <td>-</td></tr></tbody></table> <h3 id="options"><a href="#options" aria-hidden="true" class="header-anchor">#</a> Options</h3> <table><thead><tr><th>Variable</th> <th>Type</th> <th>Default</th> <th>Description</th> <th>Required</th></tr></thead> <tbody><tr><td>bind</td> <td>object, boolean</td> <td>-</td> <td><a href="/v4/script/history#bind">Bind object format</a></td> <td>-</td></tr> <tr><td>extensions</td> <td>array</td> <td>-</td> <td>Whitelist of path extensions to support</td> <td>-</td></tr> <tr><td>partials</td> <td><a href="/v4/script/#selection">selection</a></td> <td>'title, main'</td> <td>Elements to replace from response</td> <td>-</td></tr> <tr><td>processErrors</td> <td>boolean</td> <td>false</td> <td>Process replacements on error responses</td> <td>-</td></tr> <tr><td>push</td> <td>boolean</td> <td>true</td> <td>Push the path to the browser URL</td> <td>-</td></tr> <tr><td>request</td> <td>object</td> <td>-</td> <td>Pass-through object to <a href="/v4/script/data#request">Wee.data</a></td> <td>-</td></tr> <tr><td>run</td> <td>boolean</td> <td>true</td> <td>Evaluate routing rules</td> <td>-</td></tr> <tr><td>begin</td> <td>object</td> <td>-</td> <td>Before request is made</td> <td>-</td></tr> <tr><td>replace</td> <td>object</td> <td>-</td> <td>Manipulations to returned html can be made here before replacement</td> <td>-</td></tr></tbody></table> <h3 id="default"><a href="#default" aria-hidden="true" class="header-anchor">#</a> Default</h3> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="advanced-3"><a href="#advanced-3" aria-hidden="true" class="header-anchor">#</a> Advanced</h3> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    bind<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        click<span class="token punctuation">:</span> <span class="token string">'a:not([data-static])'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    extensions<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">'html'</span><span class="token punctuation">,</span>
        <span class="token string">'php'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    partials<span class="token punctuation">:</span> <span class="token string">'title, .js-sidebar, ref:inner'</span><span class="token punctuation">,</span>
    processErrors<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    request<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        root<span class="token punctuation">:</span> <span class="token string">'/pjax'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">ga</span><span class="token punctuation">(</span><span class="token string">'send'</span><span class="token punctuation">,</span> <span class="token string">'pageview'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="lifecycle"><a href="#lifecycle" aria-hidden="true" class="header-anchor">#</a> Lifecycle</h3> <p>The following events are available in this order at different stages throughout the History lifecycle.</p> <div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// return false to abort process</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// before replacement is made</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// before actual request is made</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logic to execute on if request is successful</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>xhr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logic for handling errors returned during request</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>xhr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// logic to remove any css modifer classes</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span><span class="token function">pushstate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dir<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
    prev<span class="token punctuation">:</span> <span class="token string">'string'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span><span class="token function">popstate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dir<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
    prev<span class="token punctuation">:</span> <span class="token string">'string'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>options<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    dir<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    path<span class="token punctuation">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span>
    prev<span class="token punctuation">:</span> <span class="token string">'string'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="lifecycle-2"><a href="#lifecycle-2" aria-hidden="true" class="header-anchor">#</a> Lifecycle</h2> <p>The following events are available in this order at different stages throughout the History lifecycle.</p> <p>All examples below could use <code>Wee.history.go</code> as well.</p> <h3 id="begin"><a href="#begin" aria-hidden="true" class="header-anchor">#</a> Begin</h3> <p>Triggers before any history state or data request occurs. Returning false will halt process entirely.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token function-variable function">begin</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// config is the entire configuration object passed into init method</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="send"><a href="#send" aria-hidden="true" class="header-anchor">#</a> Send</h3> <p>Triggers when data request is initially sent.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    request<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">send</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="replace"><a href="#replace" aria-hidden="true" class="header-anchor">#</a> Replace</h3> <p>Triggers once HTML from data request is received but before the received markup is placed onto the DOM. Returned HTML is passed as parameter to this method. The return value will be treated as the HTML to be appended to DOM. If return value is <code>js false</code>, HTML will be prevented from being appended.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token function-variable function">replace</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">html<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//...optionally modify htmlreturn html;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="success"><a href="#success" aria-hidden="true" class="header-anchor">#</a> Success</h3> <p>Triggers when the data request is returned successfully and after markup has been replaced on DOM.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    request<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">success</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">html<span class="token punctuation">,</span> xhr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="error"><a href="#error" aria-hidden="true" class="header-anchor">#</a> Error</h3> <p>Triggers when the data request is not returned successfully.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    request<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">error</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">xhr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="complete"><a href="#complete" aria-hidden="true" class="header-anchor">#</a> Complete</h3> <p>Triggers when the data request is returned successfully and after either the success or error callback fires.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    request<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">complete</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">xhr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="pushstate"><a href="#pushstate" aria-hidden="true" class="header-anchor">#</a> Pushstate</h3> <p>Triggers when new history entry is added to browser history.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    push<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Default is true</span>
    <span class="token function-variable function">pushstate</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        history<span class="token punctuation">.</span>dir <span class="token comment">// Browser navigation direction (1)</span>
        history<span class="token punctuation">.</span>path <span class="token comment">// New URL path</span>
        history<span class="token punctuation">.</span>prev <span class="token comment">// Old URL path</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="popstate"><a href="#popstate" aria-hidden="true" class="header-anchor">#</a> Popstate</h3> <p>Triggers when a history entry is changed.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    pop<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">popstate</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        history<span class="token punctuation">.</span>dir <span class="token comment">// Browser navigation direction (-1 or 1)</span>
        history<span class="token punctuation">.</span>path <span class="token comment">// New URL path</span>
        history<span class="token punctuation">.</span>prev <span class="token comment">// Old URL path</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="end"><a href="#end" aria-hidden="true" class="header-anchor">#</a> End</h3> <p>Triggers at the very end of process.</p> <div class="language-js extra-class"><pre class="language-js"><code>Wee<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token function-variable function">end</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">history</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        history<span class="token punctuation">.</span>dir <span class="token comment">// Browser navigation direction (-1 or 1)</span>
        history<span class="token punctuation">.</span>path <span class="token comment">// New URL path</span>
        history<span class="token punctuation">.</span>prev <span class="token comment">// Old URL path</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/v3/script/events.html" class="prev">
          Events
        </a></span> <span class="next"><a href="/v3/script/routes.html">
          Routes
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.47ec8783.js" defer></script><script src="/assets/js/24.b6f0b51a.js" defer></script>
  </body>
</html>
